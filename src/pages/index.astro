---
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogDescription from "../components/index/BlogDescription.astro";
import RecommendedPosts from "../components/index/RecommendedPosts.astro";
import LatestPosts from "../components/index/LatestPosts.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
);

const authors = await getCollection("author");
---

<BaseLayout>
  <BlogDescription />
  <RecommendedPosts posts={posts} authors={authors} />
  <LatestPosts posts={posts} authors={authors} />
</BaseLayout>
